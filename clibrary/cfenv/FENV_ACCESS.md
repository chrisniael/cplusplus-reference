编译指示

# FENV_ACCESS (C++11)

on(1)  `#pragma STDC FENV_ACCESS on`  
off(2) `#pragma STDC FENV_ACCESS off`

#### 访问浮点环境

如果设置为 _on_，则程序会通知编译器它可能会访问 _浮点环境_ 来测试它的 _状态标志_ （异常）或者运行在 _控制模式_ 下而不是默认模式。

如果设置为 _off_，则编译器可能会做一些特定的优化来破坏这些测试和模式的改变，因此访问之前描述的 _浮点环境_ 的话，会导致 _未定义_ 行为。

这个编译指示的状态是 _on_ 或 _off_ 取决于编译器设置和库实现。

这个编译指示声明应该出现在：

- __在任何外部声明外__ ：它的作用持续到遇到另一个 _FENV_ACCESS_ 编译指示，或直到 _编译单元_ 结束。
- __在复合语句中__ ：这种情况下，它会优先于所有显示的声明和语句。它的作用持续到遇到另一个 _FENV_ACCESS_ 编译指示（例如在一个内嵌的复合语句中），或直到复合语句的结束。复合语句结束后，编译指示的状态会重新被存储为进入它之前的状态。

如果这个编译指示出现在其他上下文中，则行为未定义。

当状态被这个编译指示直接改变时，_浮点控制模式_ （例如 _舍入方向_ ）拥有它们默认的设置，但 _浮点标志_ 的状态是不确定的。


# 另请参见

函数                    | 描述
----------------------- | ---------------------
[fegetenv](fegetenv.md) | 获得浮点环境 (_函数_)
[fesetenv](fesetenv.md) | 设置浮点环境 (_函数_)
